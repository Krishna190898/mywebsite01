<!DOCTYPE html>
<html>

<head>
    <title>Checkout - Mr KKR Store</title>
    <link rel="stylesheet" href="checkout.css">
</head>

<body>

    <div class="checkout-wrapper">

        <div class="checkout-box">

            <h2>Checkout Page</h2>

            <div id="checkoutContainer"></div>

            <h3 id="finalTotal"></h3>

            <form onsubmit="placeOrder(event)">
                <h3>Shipping Details</h3>

                <input type="text" placeholder="Full Name" required>
                <input type="text" placeholder="Address" required>
                <input type="text" placeholder="City" required>
                <input type="text" placeholder="Pincode" required>

                <button type="submit">Place Order</button>
            </form>

        </div>

    </div>

    <script>

        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let container = document.getElementById("checkoutContainer");
        let total = 0;

        if (cart.length === 0) {
            container.innerHTML = "<p>Your cart is empty!</p>";
        }

        cart.forEach(item => {

            total += item.price * item.quantity;

            container.innerHTML += `
            <div class="checkout-item">
                <img src="${item.image}">
                <div>
                    <p>${item.title}</p>
                    <p>â‚¹ ${item.price} x ${item.quantity}</p>
                </div>
            </div>
        `;
        });

        document.getElementById("finalTotal").innerText =
            "Grand Total: â‚¹ " + total.toFixed(2);

        function placeOrder(event) {
            event.preventDefault();

            alert("Order Placed Successfully! ðŸŽ‰");

            localStorage.removeItem("cart");

            window.location.href = "index.html";
        }

    </script>

</body>

</html>